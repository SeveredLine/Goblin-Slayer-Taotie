var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=_;var r=t.n(e);const n={type:'message',message_id:'latest'},o=(t,e,r)=>{(async()=>{try{await window.triggerSlash(`/buttons ${t}`)}catch(e){console.error(`[${t}] 显示按钮失败`,e)}})(),window.eventOn(window.getButtonEvent(t),()=>{try{const t=window.getVariables(n),o=e(t);if(!o.length)return void window.toastr.info('暂无内容可删除');const a=window.prompt(`输入要删除的键名：\n${o.join('，')}`,o[0]);if(!a)return;const s=a.trim();if(!window.confirm(`确定删除「${s}」吗？此操作不可撤销。`))return;const i=r(s,t);if(!i)return void window.toastr.error('无法定位该项目路径');const{delete_occurred:c}=window.deleteVariable(i,n);c?window.toastr.success(`已成功删除「${s}」`):window.toastr.warning('删除失败，可能该项目已被删除')}catch(e){console.error(`[${t}] 删除失败`,e),window.toastr.error('删除失败，请查看控制台')}})};$(()=>{o('删除NPC',t=>{const e=r().get(t,'stat_data.关系列表',{});return Object.keys(e).map(t=>{const r=e[t],n=r?.姓名||r?.名称||'';return n?`${t}（${n}）`:t})},t=>`stat_data.关系列表.${t.split('（')[0]}`),o('删除状态',t=>{const e=r().get(t,'stat_data.主角.当前状态',{});return Object.keys(e).map(t=>{const r=e[t];return`${t}（Lv.${r?.level||r?.等级||'?'}）`})},t=>`stat_data.主角.当前状态.${t.split('（')[0]}`),o('删除任务',t=>{const e=r().get(t,'stat_data.主角.任务日志',{}),n={...e['进行中']||{},...e['已完成']||{}};return Object.keys(n)},(t,e)=>{const n=r().get(e,'stat_data.主角.任务日志',{});return n['进行中']&&n['进行中'][t]?`stat_data.主角.任务日志.进行中.${t}`:n['已完成']&&n['已完成'][t]?`stat_data.主角.任务日志.已完成.${t}`:''})});
//# sourceMappingURL=index.js.map